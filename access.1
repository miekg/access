.\" Generated by Mmark Markdown Processer - mmark.miek.nl
.TH "ACCESS" 1 "December 2023" "Access Control Lists" "ACL File Utilities"

.SH "NAME"
.PP
access \- explain how a user has access to a file taking access control lists into account

.SH "SYNOPSIS"
.PP
\fBaccess\fP \fBUSERNAME\fP [\fIFILE...\fP]

.SH "DESCRIPTION"
.PP
\fBAccess\fP will print what access \fBUSERNAME\fP has on each \fIFILE\fP. If Access Control Lists (ACLs) are
set on the file they are taking into account. If no \fIFILE\fP is given the current directory is used.
\fBAccess\fP will always follow symlinks and report on the target.

.PP
For each \fIFILE\fP given it outputs a line:

.PP
.RS

.nf
\-rw\- miek file # ACL\_USER\_OBJ (owner)

.fi
.RE

.PP
Which states:

.TP
\fB\fC-rw-\fR
the first character is 'd' for directories, '\-' for files, 'l' for symbolic links, like ls(1). The
next 3 are the effective permissions (from the ACL mask) for this user (\fB\fCr\fR read, \fB\fCw\fR write, \fB\fCx\fR execute).
.TP
\fB\fCmiek\fR
the \fBUSERNAME\fP given as parameter.
.TP
\fB\fCfile\fR
the \fIFILE\fP currently being printed.
.TP
\fB\fC# ACL_....\fR
explanation on why this user access. If this ends \fB\fCwith -rw-\fR (or any other permissions) it lists
the actual, unmasked permission.


.PP
\fBAccess\fP can output the following:

.PP
.RS

.nf
\-r\-\- user file # ACL\_GROUP (via "xxxxx" with \-rw\-)
\-r\-\- user file # ACL\_GROUP\_OBJ (via "xxxxxx" with \-rw\-)
\-r\-\- user file # ACL\_USER\_OBJ (owner)
\-r\-\- user file # ACL\_USER  (with \-rw\-)
\-r\-\- user file # ACL\_OTHER

.fi
.RE

.SH "EXAMPLES"
.PP
Show the access the \fIgrafana\fP user has on \fB\fCfile\fR the masked permissions are equal to the permissions
as expressed in the group ACL.

.PP
.RS

.nf
% access grafana file
\-rw\- grafana file # ACL\_GROUP (via "grafana" with \-rw\-)

.fi
.RE

.SH "ALSO SEE"
.PP
acl(5) explains the algorithm of \fB\fCaccess\fR. Use getfacl(1) to lists the ACLs directly.

